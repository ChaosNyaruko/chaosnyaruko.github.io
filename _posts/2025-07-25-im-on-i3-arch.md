---
layout: post
title: ArchLinux + i3 下的Rime输入法安装和使用 
subtitle: 中文及五笔扩展 
date: 2025-07-25
author: ChaosNyaruko
header-img: 
catalog: true
tags:
    - im
    - fcitx5
    - rime
    - linux
    - i3
---

# 主要参考资料
- [Arch Wiki: Fcitx5](https://wiki.archlinux.org/title/Fcitx5)

- [Arch Wiki: Rime](https://wiki.archlinux.org/title/Rime)

- [Rime Wiki](https://github.com/rime/home/wiki)

# 安装fcitx5 

fcitx, ibus也可，后续的操作思路应该是差不多的，可能目录和一个GUI的包有差异，但我没有尝试，fcitx5应该是最新的吧

```console
$ pacman -S fcitx5 fcitx5-qt fcitx5-gtk fcitx5-rime fcitx5-configtool
```
# 启动fcitx5 ，并设置启用Rime

# 在/etc/environment 或 ~/.pam_environment 中 设置环境变量

我使用X11+i3，不同的桌面环境需要设置的不一样，具体参见[Arch Wiki: Fcitx5](https://wiki.archlinux.org/title/Fcitx5)
或[Fcitx官方Wiki](https://fcitx-im.org/wiki/Setup_Fcitx_5/zh-cn)

```
GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx

SDL_IM_MODULE=fcitx # 如果你使用基于SDL2的应用，主要是游戏的话，设置这个
GLFW_IM_MODULE=ibus # 据说只有用kitty才有可能需要设置这个
```
# 完成基本设置
最好是重启你的桌面环境或系统，这时候应该就可以在各个应用里使用输入法进行中文（或其他语种）的输入了

# 五笔支持（其他方案同理）
  1. 下载或用pacman安装[rime-wubi](https://github.com/rime/rime-wubi)

  2. 为你的Rime增加新的schema，通常为将你的schema和dict文件复制到~/.local/share/fcitx5/rime/下(ibus/fcitx可能是~/.config/rime/fcitx(ibus))，并在default.custom.yaml的scheama_list段落下插入`schema: wubi86`。如果你还需要其他输入方案，例如拼音，在后面增加就好了。
  3. 修改完后，重新部署Rime(比如点击托盘->Deploy)
  4. 你可以使用`` ctrl+` ``来切换不同的「输入方案」，各种快捷键都可以自定义

  文件结构示例:

```
  Rime
    ├── default.custom.yaml #自定义修改主文件
    ├── emoji_english.schema.yaml #emoji方案
    ├── extended.dict.yaml #emoji码表
    ├── wubi86.dict.yaml #86五笔的码表
    ├── wubi86.schema.yaml #纯86五笔方案
    ├── wubi_pinyin.schema.yaml #五笔拼音方案
    └── wubi_trad.schema.yaml #繁体五笔的方案
```

```yaml
# default.custom.yaml 文件
patch:
  schema_list:  # 對於列表類型，現在無有辦法指定如何添加、消除或單一修改某項，於是要在定製檔中將整個列表替換！
    - schema: wubi86
    - schema: luna_pinyin
    - schema: emoji_english
```


# 设置fcitx5自启

我是在i3配置里加了一行，视你使用的发行版/桌面环境自行决定
```
exec --no-startup-id "fcitx5 &"
```
# 完成 🎉
善用搜索，Happy Hacking!
